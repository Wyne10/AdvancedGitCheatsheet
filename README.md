# Advanced Git Cheatsheet (WIP)

Этот список содержит все git команды, которые зачастую не показывают в гайдах для новичков, однако я нашел их полезными. Я не стал включать команды которые я посчитал не нужными для себя, поэтому если вы не нашли нужной для себя команды, советую посетить страницу команды в документации git.

В основном этот список содержит только **ПРИМЕРЫ** команд, это значит, что в большинстве случаев вы можете комбинировать команды, ключевые слова так, как хотите.

Заголовки параграфов являются гиперссылками на страницу команды на сайте [документации git.](https://git-scm.com/docs)

Основную информацию брал с сайта https://www.atlassian.com/git/tutorials и https://git-scm.com/docs/

Большинство команд я не проверял на практике, поэтому в случае ошибок в объяснении или команде, буду рад правкам.
## [Init](https://git-scm.com/docs/git-init)
- `git init --bare` - Создать "bare" репозиторий, в котором нельзя напрямую делать коммиты.
- `git init <directory> --template=<template_directory>` - Создать репозиторий по шаблону.
---
## [Clone](https://git-scm.com/docs/git-clone)
- `git clone -depth=1 <repo>` - Клонировать репозиторий с определенной глубиной коммитов.
- `git clone --branch <branch>`  - Позволяет клонировать определенную ветку.
- `git clone --origin <name>` - Переименовывает ссылку на удаленный репозиторий.
---
## [Config](https://git-scm.com/docs/git-config)
- `git config --global alias.<alias> <command>` - Создание алиасов.
- `git config --list` - Вывести список всех настроек.
- `git config --global init.defaultBranch <name>` - Сменить название дефолтной ветки.
---
## [Add](https://git-scm.com/docs/git-add)
- `git add --patch` - Позволяет по частям выбрать какие изменения добавить.
---
## [Commit](https://git-scm.com/docs/git-commit)
- `git commit --patch` - Позволяет по частям выбрать какие изменения применить. 
- `git commit --amend` - Вместо создания нового коммита, добавит изменения в прошлый коммит.
- `--fixup` - Помогает исправить прошлый коммит, без создания нового коммита. `--fixup` помечает все коммиты которые нужно будет объединить с исправляемым коммитом, `--autosquash` автоматически объединит все коммиты с исходными коммитами на которые они ссылались.
```git
git commit --fixup=<commit>
git rebase --autosquash HEAD~<n>
```

Кроме этого --fixup обладает комбинированными командами:
- `git commit --fixup=amend:<commit>` - Автоматически создаст fixup и объединит его с `<commit>` предоставив возможность изменить его сообщение.
- `git commit --fixup=reword:<commit>` - Автоматически создаст fixup, однако изменит только сообщение коммита, не трогая его содержимое.
- `git commit --reword=<commit>` - Изменяет сообщение коммита.
- `git commit --squash=<commit>` - Объединит последний коммит и выбранный коммит, для окончательного применения нужно снова написать `git commit`, но без `--squash`. Применяется если нужно объединить более мелкие коммиты в один большой. (Зачастую squash удобнее производит через `git rebase -i`)
- `git commit --reuse-message=<commit>` - Использовать комментарий, включая информацию о авторе и время другого коммита.
- `git commit --reedit-message=<commit>` - Использовать комментарий другого коммита, но с возможностью редактирования.
- `git commit --dry-run` - Не создавать коммит, но вывести информацию.
- `--reset-author` - При использовании с `--reuse-message`, `--reedit-message`, `--amend` сменит автора и время коммита.
- `--author=<author>` - Переписать автора.
- `--date=<date>` - Переписать дату.
- Каноничный формат комментария коммита
```git
Change the message displayed by hello.py

- Update the sayHello() function to output the user's name - Change the sayGoodbye() function to a friendlier message
```
---
## Dot notation
- **.** - Одинарная точка используется как сокращение ссылки на текущую директорию на текущей ветке.
- **..** - Двойная точка имеет разный смысл в зависимости от контекста, обычно она используется для представления диапазона или сравнений.
- **...** - Тройная точка представляет симметричную разницу, например с помощью команды `git log <branch1>...<branch2>` можно увидеть коммиты уникальные для каждой ветки и не разделяющиеся между ними.

Далее будут приведены примеры с точками, для лучшего понимания.

---
## [Diff](https://git-scm.com/docs/git-diff)

Сюда я напихал много всяческих примеров, для того чтобы у вас появилось понимание, что команды git очень гибкие и имеют много применений, многие задачи могут быть решены разными способами.

- `git diff` - Показать изменения того что изменено, но не кэшировано.
- `git diff --cached` - Показать разницу того что кэшировано.
- `git diff --git a/<file> b/<file>` - Показать разницу текущего файла и последнего коммита этого файла. (`a/` - текущая директория, `b/` - прошлый коммит)
- `git diff --color-words` - Режим с цветовым выделение разницы.
- `git diff HEAD..` - Показать разницу последнего коммита и текущей рабочей директории.
- `git diff <commit/branch> <commit2/branch2>` - Сравнить два разных коммита/ветки.
- `git diff <commit/branch> <commit2/branch2> <file>` - Сравнить один файл на двух разных коммитах/ветках. 
- `git diff <commit>..<commit2>` - Показать разницу между коммитами `<commit>` (исключительно) до `<commit2>` (включительно). (Здесь используется ".." как диапазон от `<commit>` до `commit2`)
- `git diff <commit/branch>...<commit2/branch2>` - Покажет разницу между двумя коммитами/ветками, но исключит файлы которые существуют на обоих коммитах/ветках.
---
## [Stash](https://git-scm.com/docs/git-stash)
- `git stash` - Сохранить изменение вне коммита на будущее использование.
- `git stash save <description>` - Сохранить добавив описание.
- `git stash --patch` - Сохранить файлы частично.
- `--include-untracked` - Включить в сохранение неотслеживаемые файлы.
- `-all` - Включить в сохранение все файлы, включая игнорируемые.
- `git stash list` - Показать список сохранений.
- `git stash pop` - Применить последнее сохранение и удалить его из стеша.
- `git stash pop stash@{<n>}` - Применить выбранное сохранение и удалить его из стеша.
- `git stash apply` - Применить последнее сохранение, но не удалять его из стеша.
- `git stash apply stash@{<n>}` - Применить выбранное сохранение, но не удалять его из стеша.
- `git stash show` - Показывает краткое содержание сохранения.
- `git stash show --patch` - Позволяет показать полный Diff сохранения.
- `git stash branch <newbranch> stash@{<n>}` - Создает ветку из сохранения.
- `git stash drop stash@{<n>}` - Удаляет сохранение.
- `git stash clear` - Удаляет все сохранения.
